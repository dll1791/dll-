<!DOCTYPE html>
<!--
	注意：ImageData 对象不是图像，它规定了画布上一个部分（矩形），并保存了该矩形内每个像素的信息。
	对于 ImageData 对象中的每个像素，都存在着四方面的信息，即 RGBA 值：
	
	R - 红色（0-255）
	G - 绿色（0-255）
	B - 蓝色（0-255）
	A - alpha 通道（0-255; 0 是透明的，255 是完全可见的）
	
	color/alpha 信息以数组形式存在，并存储于 ImageData 对象的 data 属性中。
	
	提示：在操作完成数组中的 color/alpha 信息之后，您可以使用 putImageData() 
	方法将图像数据拷贝回画布上。
	
	实例：
	以下代码可获得被返回的 ImageData 对象中第一个像素的 color/alpha 信息：
	red=imgData.data[0];
	green=imgData.data[1];
	blue=imgData.data[2];
	alpha=imgData.data[3];
	
	1.
		反转效果，也叫“颜色反转”，指的是图片颜色颠倒效果。
		实现算法是：红、绿、蓝3个通道的像素取各自的相反值，计算方法是：255-原值。
	语法：
	for (var i = 0; i < data.length; i += 4)//数组的0~3四个值决定一块像素的显示情况
											所以i=i+4表示下一个像素
	{
	    data[i + 0] = 255 - data[i + 0];
	    data[i + 1] = 255 - data[i + 1];
	    data[i + 2] = 255 - data[i + 2];
	}
	
-->
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		<canvas id="c" width="300" height="300" style="border: 2px aquamarine solid;"></canvas>
		<script type="text/javascript">
			var a=c.getContext("2d");
			a.fillStyle="#66FF2F"
			a.fillRect(10,10,20,20);
			a.fillStyle="#8A2BE2";
			a.fillRect(10,30,20,20);
			a.fillStyle="#FF0000";
			a.fillRect(30,30,20,20);
			a.fillStyle="#FFFF00";
			a.fillRect(30,10,20,20);
			
			var img=a.getImageData(10,10,40,40);
			for (var i = 0; i < img.data.length; i=i+4)
			{
			    img.data[i + 0] = 255 - img.data[i + 0];
			    img.data[i + 1] = 255 - img.data[i + 1];
			    img.data[i + 2] = 255 - img.data[i + 2];
			}
			alert(img.data.length);
			a.putImageData(img,50,50);
		</script>
	</body>
</html>
