<!DOCTYPE html>
<!--
	红色蒙版，指的是让图片呈现一种偏红的效果。实现算法是：
	将红通道（r）赋值为红、绿、蓝3个的平均值，并且将绿通道、蓝通道都赋值为0。
	
	语法：
	for (var i = 0; i < data.length; i += 4) 
	{
	    var r = data[i + 0];
	    var g = data[i + 1];
	    var b = data[i + 2];
	
	    var average = (r + g + b) / 3;
	    data[i + 0] = average;
	    data[i + 1] = 0;
	    data[i + 2] = 0;
	}

-->
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		<canvas id="c" width="300" height="300" style="border: 2px aquamarine solid;"></canvas>
		<script type="text/javascript">
			var a=c.getContext("2d");
			a.fillStyle="#66FF2F"
			a.fillRect(10,10,20,20);
			a.fillStyle="#8A2BE2";
			a.fillRect(10,30,20,20);
			a.fillStyle="#FF0000";
			a.fillRect(30,30,20,20);
			a.fillStyle="#FFFF00";
			a.fillRect(30,10,20,20);
			
			var img=a.getImageData(10,10,40,40);
			for (var i = 0; i < img.data.length; i += 4) 
			{
			    var r = img.data[i + 0];
			    var g = img.data[i + 1];
			    var b = img.data[i + 2];
			
			    var average = (r + g + b) / 3;
			    img.data[i + 0] = average;
			    img.data[i + 1] = 0;
			    img.data[i + 2] = 0;
			}
			a.putImageData(img,50,50);
		</script>
	</body>
</html>
